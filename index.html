<!DOCTYPE html>

<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="index.css">
</head>
<body>

    <h1>TABS</h1>
    <div class="tabs">
    <div class="tabs__navbar">
    <button class="tabs__button tabs__button--active" data-for-tab="1" >TabOne</button>
    <button class="tabs__button" data-for-tab="2" >TabTwo</button>
    <button class="tabs__button" data-for-tab="3">TabThree</button>
    </div>
      <div class="tabs__content tabs__content--active" data-tab="1">
          <h2>Tab One</h2>
          <p>This is page one</p>
      </div>
      <div class="tabs__content" data-tab="2">
        <h2>Tab Two</h2>
        <p>This is page on two</p>
    </div>
    <div class="tabs__content" data-tab="3">
        <h2>Tab Three</h2>
        <p>This is page three</p>
    </div>
    </div>

    <script>

        function tabsSet () {
            // Select buttons with class name and for each button add click event listener
                    document.querySelectorAll(".tabs__button").forEach(button => {
                        //grab these const's when button is clicked
                        button.addEventListener("click", () => {
                           
                            const navBar =button.parentElement;
                            const tabsContainer = navBar.parentElement;
                            const tabNumber = button.dataset.forTab;
                            // Select content element with the data tab = to "tabNumber"
                            const tabToActivate = tabsContainer.querySelector(`.tabs__content[data-tab="${tabNumber}"]`)
        
                            // Select all buttons in navbar
                            navBar.querySelectorAll(".tabs__button").forEach(button => {
                                // remove the tabs button active class to have no active state then have selected button actually have the class
                                button.classList.remove("tabs__button--active");
                            
                            });
                            // select all content
                            tabsContainer.querySelectorAll(".tabs__content").forEach(tab => {
                                // remove tab content
                                tab.classList.remove("tabs__content--active");
                            
                            });
        
                            // when i click on a selected tab make Active or inactive
                            button.classList.add("tabs__button--active");
                            tabToActivate.classList.add("tabs__content--active");
                        });
                    });
        
                }
        
                
                document.addEventListener("DOMContentLoaded", () => {
                    //Call my function
                    tabsSet();

                    // first tabs button in navbar for each container and on click run above
                    document.querySelectorAll(".tabs").forEach(tabsContainer => {
                        tabsContainer.querySelector(".tabs__navbar .tabs__button").click();
                    });

                });
        
            </script>


</body>